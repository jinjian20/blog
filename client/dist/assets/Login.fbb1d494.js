import{s as F,d as w,bc as v,i as k,u as h,e as x,c as y,g as t,w as a,bd as S,o as I,j as u,k as C,be as D,_ as A}from"./index.bc132317.js";import{_ as E}from"./Input.a9cfcc4d.js";import{_ as L,a as N}from"./FormItem.1cec9a5c.js";import{_ as U}from"./Checkbox.1b6a5ed7.js";import"./format-length.9e4dbec0.js";const j=c=>F.post("/admin/login",c),q={class:"login"},R=w({__name:"Login",setup(c){const s=v(),l=k("message"),d=h(),e=x({account:localStorage.getItem("account")||"",password:localStorage.getItem("password")||"",remember:localStorage.getItem("remember")||!1}),p={account:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},{min:3,max:12,message:"\u8D26\u53F7\u957F\u5EA6\u57283-5\u4E2A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:18,message:"\u8D26\u53F7\u957F\u5EA6\u57286-18\u4E2A\u5B57\u7B26",trigger:"blur"}]},i=async()=>{try{const r={account:e.account,password:e.password};let o=await j(r);s.token=o.data.token,s.id=o.data.id,s.account=o.data.account,e.remember&&(localStorage.setItem("account",e.account),localStorage.setItem("password",e.password),localStorage.setItem("remember",e.remember?"1":"0")),d.push("/dashboard"),l.success("\u767B\u5F55\u6210\u529F")}catch{l.error("\u767B\u5F55\u5931\u8D25")}};return(r,o)=>{const m=E,_=L,g=N,f=U,b=D,B=S;return I(),y("div",q,[t(B,{title:"\u767B\u5F55"},{footer:a(()=>[t(f,{checked:u(e).remember,"onUpdate:checked":o[2]||(o[2]=n=>u(e).remember=n),label:"\u8BB0\u4F4F\u6211"},null,8,["checked"]),t(b,{strong:"",secondary:"",type:"primary",onClick:i},{default:a(()=>[C(" \u767B\u5F55 ")]),_:1})]),default:a(()=>[t(g,{ref:"formRef",model:u(e),rules:p},{default:a(()=>[t(_,{path:"account",label:"\u7528\u6237\u540D"},{default:a(()=>[t(m,{value:u(e).account,"onUpdate:value":o[0]||(o[0]=n=>u(e).account=n),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["value"])]),_:1}),t(_,{path:"password",label:"\u5BC6\u7801"},{default:a(()=>[t(m,{value:u(e).password,"onUpdate:value":o[1]||(o[1]=n=>u(e).password=n),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})])}}});const G=A(R,[["__scopeId","data-v-dd705364"]]);export{G as default};
